<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë‹¹ì‹ ì˜ ë‚˜ë¬¼ ìœ í˜•ì€?</title>
  <link rel="stylesheet" href="../../assets/style/style2.css" />
</head>
<body>
  <h1>ë‹¹ì‹ ì˜ ë‚˜ë¬¼ ìœ í˜• í…ŒìŠ¤íŠ¸</h1>
  
  <div id="question-container">
    <div id="question-text"></div>
    <div id="choices"></div>
  </div>
<button id="backToLobbyBtn">ğŸ  ë¡œë¹„ë¡œ ê°€ê¸°</button>
  <button id="startBtn">í…ŒìŠ¤íŠ¸ ì‹œì‘</button>

  <script>
    const questions = [
      {
        question: "ì£¼ë§ì— ë­í• ë˜?",
        choices: [
          { text: "ì•¡í‹°ë¹„í‹°í•˜ëŸ¬ ë‚˜ê°", type: "ë‘ë¦…" },
          { text: "ë„·í”Œë¦­ìŠ¤+ì´ë¶ˆ ì†", type: "ì·¨ë‚˜ë¬¼" }
        ]
      },
      {
        question: "íšŒì‹ ë•Œ ë‹¹ì‹ ì€?",
        choices: [
          { text: "ë¦¬ë“œí•˜ë©° ë¶„ìœ„ê¸° ë„ì›€", type: "ë‘ë¦…" },
          { text: "ì¡°ìš©íˆ ë¨¹ê³  ë¹ ì§", type: "ê³ ì‚¬ë¦¬" }
        ]
      },
      {
        question: "ì¹œêµ¬ê°€ ê³ ë¯¼ ìƒë‹´í•  ë•Œ",
        choices: [
          { text: "ì§ì„¤ ì¡°ì–¸í•´ì¤Œ", type: "ëŒë‚˜ë¬¼" },
          { text: "ê³µê° ë¨¼ì € í•´ì¤Œ", type: "ê³ ì‚¬ë¦¬" }
        ]
      },
      {
        question: "ì—¬í–‰ ìŠ¤íƒ€ì¼ì€?",
        choices: [
          { text: "ì¼ì • ë¹¡ë¹¡í•œ ì•Œì°¨ê²Œ ì—¬í–‰", type: "ë‘ë¦…" },
          { text: "ì¦‰í¥+ê°ì„± ì½”ìŠ¤", type: "ì·¨ë‚˜ë¬¼" }
        ]
      },
      {
        question: "ê¸°ë¶„ ìš°ìš¸í•  ë•Œ",
        choices: [
          { text: "ìš´ë™ìœ¼ë¡œ í’€ê¸°", type: "ë‘ë¦…" },
          { text: "ë§›ìˆëŠ” ê±° ë¨¹ê¸°", type: "ëŒë‚˜ë¬¼" }
        ]
      },
      {
        question: "ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒ ìƒê¸°ë©´?",
        choices: [
          { text: "ë¨¼ì € ì—°ë½í•¨", type: "ëŒë‚˜ë¬¼" },
          { text: "ê³„ì† ëˆˆì¹˜ë§Œ ë´„", type: "ê³ ì‚¬ë¦¬" }
        ]
      },
      {
        question: "ë‚´ ë°©ì€ ì–´ë–¤ ìŠ¤íƒ€ì¼?",
        choices: [
          { text: "ê¹”ë”í•˜ê³  ì •ëˆë¨", type: "ë‘ë¦…" },
          { text: "ê°ì„±+ì¥ì‹ ë§ìŒ", type: "ì·¨ë‚˜ë¬¼" }
        ]
      },
      {
        question: "ì´ìƒí˜•ì€?",
        choices: [
          { text: "ë˜‘ë˜‘í•˜ê³  ì¶”ì§„ë ¥ ìˆëŠ” ì‚¬ëŒ", type: "ë‘ë¦…" },
          { text: "í¸ì•ˆí•˜ê³  ìœ ì¾Œí•œ ì‚¬ëŒ", type: "ëŒë‚˜ë¬¼" }
        ]
      }
    ];

    const startBtn = document.getElementById("startBtn");
    const questionContainer = document.getElementById("question-container");
    const questionText = document.getElementById("question-text");
    const choicesDiv = document.getElementById("choices");

    let currentIndex = 0;
    let answers = [];

    startBtn.onclick = () => {
      startBtn.style.display = "none";
      questionContainer.style.display = "block";
      showQuestion();
    };

    function showQuestion() {
      const q = questions[currentIndex];
      questionText.textContent = q.question;
      choicesDiv.innerHTML = "";

      q.choices.forEach(choice => {
        const btn = document.createElement("button");
        btn.textContent = choice.text;
        btn.onclick = () => {
          answers.push(choice.type);
          currentIndex++;
          if (currentIndex < questions.length) {
            showQuestion();
          } else {
            // ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™ (ê°€ì¥ ë§ì´ ì„ íƒëœ íƒ€ì… ë„˜ê¹€)
            const resultType = getMostFrequentType(answers);
            window.location.href = `testresult.html?type=${encodeURIComponent(resultType)}`;
          }
        };
        choicesDiv.appendChild(btn);
      });
    }

    function getMostFrequentType(arr) {
      const countMap = {};
      arr.forEach(t => {
        countMap[t] = (countMap[t] || 0) + 1;
      });
      return Object.entries(countMap).sort((a,b) => b[1] - a[1])[0][0];
    }

    // ì‹œì‘ ì „ì—ëŠ” ì§ˆë¬¸ ìˆ¨ê¹€
    questionContainer.style.display = "none";
  </script>
</body>
</html>
